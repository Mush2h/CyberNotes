# Privilege Escalation

First, let's check the Linux version with the following command:

```shell
lsb_release -a
```

## Privilege Escalation using sudo -l
We try executing the following instruction to check which files we can run as root:

```shell
sudo -l
```

From there, we can search for the folder and the exploit that uses it to establish a reverse shell.

## Basic Privilege Escalation using CAPABILITIES

```shell
getcap -r / 2>/dev/null
```

This lists the packages or services that we can execute as root.

```shell 
#Ejemplo
/usr/bin/perl = cap_setuid+ep
```

## Privilege Escalation using Binaries

We search for files that we can execute as root with the current user:

```shell
find / -perm -4000 2>/dev/null
```

We consult the binary in GTFobins and look for any binary that we can execute with SUID permissions.
The exploit needs to use the full path.

```shell
usr/bin/env /bn/sh -p 
```

## Tools

### LSE (Linux Smart Enumeration): 
Es una herramienta de enumeración para sistemas Linux que permite a los atacantes obtener información detallada sobre la configuración del sistema, los servicios en ejecución y los permisos de archivo. LSE utiliza una variedad de comandos de Linux para recopilar información y presentarla en un formato fácil de entender. Al utilizar LSE, los atacantes pueden detectar posibles vulnerabilidades y encontrar información valiosa para futuros ataques.

### Pspy: 
Es una herramienta de enumeración de procesos que permite a los atacantes observar los procesos y comandos que se ejecutan en el sistema objetivo a intervalos regulares de tiempo. Pspy es una herramienta útil para la detección de malware y backdoors, así como para la identificación de procesos maliciosos que se ejecutan en segundo plano sin la interacción del usuario.


Herramienta LSE: https://github.com/diego-treitos/linux-smart-enumeration
Herramienta PSPY: https://github.com/DominicBreuker/pspy