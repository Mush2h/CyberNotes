# Personalizar Terminal

Después de acceder a un sistema Linux con una reverse shell de Netcat, tenemos una nueva reverse shell pero en un formato diferente al que estamos acostumbrados.

## Cargando una Pseudo-Consola en el Sistema

Tenemos dos formas de hacerlo:

1. Usando `script`:
```shell
script /dev/null -c bash
```

2. Usando Python (se recomienda usar `whereis python` primero para verificar las versiones disponibles):

```shell
python -c 'import pty;pty.spawn("/bin/bash")'
```

### Ejemplo adicional: Usando Python3
Si Python3 está disponible, también puedes usar:
```shell
python3 -c 'import pty;pty.spawn("/bin/bash")'
```

### Ejemplo adicional: Usando Perl
Si Perl está instalado, puedes usar:
```shell
perl -e 'exec "/bin/bash";'
```

## Configuración de Variables de Entorno

A continuación, presiona `Ctrl+Z` para enviar la sesión al fondo. Luego aplica estos comandos:
```shell
stty raw -echo;fg
reset xterm
``` 

Después de ingresar el primer comando, es normal no ver `fg` mientras escribes. Este comando nos devolverá a la sesión de Netcat. El comando `reset` reconfigura nuestra sesión, a menudo preguntando qué tipo de terminal queremos usar.

Si pregunta por el tipo de terminal, ingresa `xterm`. Ya sea que lo pregunte o no, posteriormente aplica estos comandos:

```shell
export TERM=xterm
export SHELL=bash
```

### Ejemplo adicional: Configuración de colores
Para habilitar colores en la terminal, puedes usar:
```shell
alias ls='ls --color=auto'
export PS1="\[\e[1;32m\]\u@\h:\w\$ \[\e[0m\]"
```

## Redimensionar la Terminal (Opcional)

Para redimensionar correctamente la terminal (útil para editores como `nano`), es mejor maximizar la ventana de tu terminal.
Abre otra terminal en tu sistema con el mismo tamaño y aplica:
```shell
stty -a
```
Verás una salida como:

```shell
speed 38400 baud; rows 44; columns 190; line = 0;
```

Toma nota de las filas (`rows`) y columnas (`columns`), luego aplica estas dimensiones a la terminal anterior:

```shell
stty rows 44 columns 190
```

Esto asegura dimensiones correctas de la terminal para una mejor usabilidad.

### Ejemplo adicional: Usando `tmux`
Si tienes acceso a `tmux`, puedes usarlo para manejar sesiones y redimensionar automáticamente:
```shell
tmux attach || tmux new
```

### Ejemplo adicional: Usando `resize`
Si el comando `resize` está disponible, puedes ejecutarlo para ajustar automáticamente las dimensiones:
```shell
resize
```
