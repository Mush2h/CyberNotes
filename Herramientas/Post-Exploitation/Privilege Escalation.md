# Privilege Escalation

First, let's check the Linux version with the following command:

```shell
lsb_release -a
```

## Privilege Escalation using sudo -l
We try executing the following instruction to check which files we can run as root:

```shell
sudo -l
```

From there, we can search for the folder and the exploit that uses it to establish a reverse shell.

## Basic Privilege Escalation using CAPABILITIES

```shell
getcap -r / 2>/dev/null
```

This lists the packages or services that we can execute as root.

```shell 
#Ejemplo
/usr/bin/perl = cap_setuid+ep
```

## Privilege Escalation using Binaries

We search for files that we can execute as root with the current user:

```shell
find / -perm -4000 2>/dev/null
```

We consult the binary in GTFobins and look for any binary that we can execute with SUID permissions.
The exploit needs to use the full path.

```shell
usr/bin/env /bn/sh -p 
```

## Tools

### LSE (Linux Smart Enumeration): 
LSE is an enumeration tool for Linux systems that allows attackers to obtain detailed information about system configuration, running services, and file permissions. LSE uses a variety of Linux commands to gather information and present it in an easy-to-understand format. By using LSE, attackers can detect potential vulnerabilities and find valuable information for future attacks.

### Pspy: 
Pspy is a process enumeration tool that allows attackers to observe processes and commands running on the target system at regular time intervals. Pspy is a useful tool for detecting malware and backdoors, as well as identifying malicious processes running in the background without user interaction.


Herramienta LSE: https://github.com/diego-treitos/linux-smart-enumeration
Herramienta PSPY: https://github.com/DominicBreuker/pspy